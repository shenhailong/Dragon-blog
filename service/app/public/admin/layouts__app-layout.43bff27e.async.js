(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"/Ujr":function(e,t,a){e.exports={wrap:"wrap___1odkf",tab_operate:"tab_operate___1svQl",icon:"icon___2ovIk"}},"1UrH":function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),l=(a("g9YV"),a("wCAj")),s=(a("IzEo"),a("bx4M")),i=(a("iQDF"),a("+eQT")),o=(a("Pwec"),a("CtXQ")),c=(a("5NDa"),a("5rEg")),m=(a("jCWc"),a("kPKH")),d=(a("14J3"),a("BMrR")),p=(a("/zsF"),a("PArb")),u=(a("+L6B"),a("2/Rp")),h=(a("2qtc"),a("kLXV")),y=(a("OaEy"),a("2fM7")),g=(a("y8nQ"),a("Vl3Y")),b=a("mrSG"),v=a("MuoO"),E={DRAFT:"\u8349\u7a3f",LIST:"\u53d1\u5e03",DELIST:"\u4e0b\u67b6"},f=[{value:"DRAFT",label:"\u8349\u7a3f"},{value:"LIST",label:"\u53d1\u5e03"},{value:"DELIST",label:"\u4e0b\u67b6"}],k="DRAFT",x="LIST",L="DELIST",w=a("NYiy"),C=a.n(w),S=g["a"].Item,_=y["a"].Option,T=class extends r["PureComponent"]{constructor(e){super(e),this.add=((e,t,a)=>{this.props.addTabHandler({title:t,key:e+a,content:e,closable:!0,id:a})}),this.handleSearch=(e=>{e.preventDefault();var t=this.props,a=t.dispatch,r=t.form;r.validateFields((e,t)=>{if(!e){var r=Object.assign({},t,{offset:0});a({type:"article/list",payload:r})}})}),this.handleFormReset=(()=>{var e=this.props.form;e.resetFields()}),this.toggleForm=(()=>{var e=this.state.expandForm;this.setState({expandForm:!e})}),this.deleteData=((e,t)=>{var a=this.props,r=a.dispatch,n=a.article.params;h["a"].confirm({title:"\u5220\u9664\u6587\u7ae0",content:"\u786e\u5b9a\u5220\u9664\u6587\u7ae0--".concat(t,"\u5417\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:()=>{r({type:"article/remove",payload:e,callback:()=>{r({type:"article/list",payload:Object.assign({},n)})}})}})}),this.changeStatus=(e=>{var t=this.props,a=t.dispatch,r=t.article.params,n=e.status===L||e.status===k?"\u53d1\u5e03":"\u4e0b\u67b6",l=e.status===L||e.status===k?x:L,s={id:e.id,data:{status:l}};h["a"].confirm({title:"".concat(n,"\u6587\u7ae0"),content:"\u786e\u5b9a".concat(n,"\u6587\u7ae0--").concat(e.title,"\u5417\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:()=>{a({type:"article/status",payload:Object.assign({},s),callback:()=>{a({type:"article/list",payload:Object.assign({},r)})}})}})}),this.handleTableChange=(e=>{var t=this.props,a=t.dispatch,r=t.article.params,n=Object.assign({offset:(e.current-1)*e.pageSize,limit:e.pageSize,current:e.current},r);a({type:"article/list",payload:n})}),this.state={expandForm:!1,columns:[{align:"center",title:"\u6807\u9898",dataIndex:"title",key:"title",render:(e,t)=>n.a.createElement("a",{onClick:()=>{this.add("Detail",t.title,t.id)},href:"javascript:;"},e)},{align:"center",title:"\u5173\u952e\u5b57",dataIndex:"keyword",key:"keyword"},{align:"center",title:"\u6240\u5c5e\u5206\u7c7b",dataIndex:"category.name",key:"category.id"},{align:"center",title:"\u5c01\u9762\u56fe",dataIndex:"img",key:"img",render:(e,t)=>n.a.createElement("img",{src:e,height:"60px",width:"60px"})},{align:"center",title:"\u72b6\u6001",dataIndex:"status",key:"status",render:(e,t)=>n.a.createElement("div",null,E[t.status])},{align:"center",title:"\u662f\u5426\u539f\u521b",dataIndex:"isOriginal",key:"isOriginal",render:(e,t)=>n.a.createElement("span",null,e?"\u662f":"\u5426")},{align:"center",title:"\u5907\u6ce8",dataIndex:"remark",key:"remark"},{align:"center",title:"\u64cd\u4f5c",render:(e,t)=>n.a.createElement("span",null,n.a.createElement(u["a"],{onClick:()=>{this.add("Edit","\u7f16\u8f91-".concat(t.title),t.id)},type:"primary"},"\u7f16\u8f91"),n.a.createElement(p["a"],{type:"vertical"}),n.a.createElement(u["a"],{className:t.status===L||t.status===k?"button-color-green":"button-color-sunset",onClick:()=>{this.changeStatus(t)},type:"primary"},t.status===L||t.status===k?"\u53d1\u5e03":"\u4e0b\u67b6"),n.a.createElement(p["a"],{type:"vertical"}),n.a.createElement(u["a"],{onClick:()=>{this.deleteData(t.id,t.title)},type:"danger"},"\u5220\u9664"))}],dataSource:[]}}componentDidMount(){var e=this.props.dispatch;e({type:"article/list"}),e({type:"category/all"})}renderSimpleForm(){var e=this.props,t=e.form.getFieldDecorator,a=e.category.allList;return n.a.createElement(g["a"],{onSubmit:this.handleSearch,layout:"inline"},n.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u6807\u9898"},t("title")(n.a.createElement(c["a"],{placeholder:"\u8bf7\u8f93\u5165\u6587\u7ae0\u6807\u9898"})))),n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u5206\u7c7b"},t("categoryId",{initialValue:""})(n.a.createElement(y["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},n.a.createElement(_,{value:"",key:"selectEmpty"},"\u5168\u90e8"),a.map(e=>{return n.a.createElement(_,{value:e.id,key:e.id},e.name)}))))),n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement("span",{className:C.a.submitButtons},n.a.createElement(u["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),n.a.createElement(u["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),n.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u5c55\u5f00 ",n.a.createElement(o["a"],{type:"down"}))))))}renderAdvancedForm(){var e=this.props,t=e.form.getFieldDecorator,a=e.category.allList;return n.a.createElement(g["a"],{onSubmit:this.handleSearch,layout:"inline"},n.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u6807\u9898"},t("title")(n.a.createElement(c["a"],{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"})))),n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u5173\u952e\u5b57"},t("keyword")(n.a.createElement(c["a"],{placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"})))),n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u5206\u7c7b"},t("categoryId",{initialValue:""})(n.a.createElement(y["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},n.a.createElement(_,{value:"",key:"selectEmpty"},"\u5168\u90e8"),a.map(e=>{return n.a.createElement(_,{value:e.id,key:e.id},e.name)})))))),n.a.createElement(d["a"],{gutter:{md:8,lg:24,xl:48}},n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u72b6\u6001"},t("status")(n.a.createElement(y["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},f.map(e=>{return n.a.createElement(_,{value:e.value,key:e.value},e.label)}))))),n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u662f\u5426\u539f\u521b"},t("isOriginal")(n.a.createElement(y["a"],{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},n.a.createElement(_,{value:"1"},"\u662f"),n.a.createElement(_,{value:"0"},"\u5426"))))),n.a.createElement(m["a"],{md:8,sm:24},n.a.createElement(S,{label:"\u521b\u5efa\u5f00\u59cb\u65e5\u671f"},t("createdAt")(n.a.createElement(i["a"],{style:{width:"100%"},placeholder:"\u8bf7\u8f93\u5165\u66f4\u65b0\u65e5\u671f"}))))),n.a.createElement("div",{style:{overflow:"hidden"}},n.a.createElement("div",{style:{marginBottom:24}},n.a.createElement(u["a"],{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),n.a.createElement(u["a"],{style:{marginLeft:8},onClick:this.handleFormReset},"\u91cd\u7f6e"),n.a.createElement("a",{style:{marginLeft:8},onClick:this.toggleForm},"\u6536\u8d77 ",n.a.createElement(o["a"],{type:"up"})))))}renderForm(){var e=this.state.expandForm;return e?this.renderAdvancedForm():this.renderSimpleForm()}render(){var e=this.state.columns,t=this.props.article,a=t.list,r=t.total,i=t.current,o={showSizeChanger:!0,pageSizeOptions:["10","20","30","50"],total:r,current:i};return n.a.createElement("div",null,n.a.createElement(s["a"],null,n.a.createElement("div",{className:C.a.tableList},n.a.createElement("div",{className:C.a.tableListForm},this.renderForm()),n.a.createElement("div",{className:C.a.tableListOperator},n.a.createElement(u["a"],{icon:"plus",type:"primary",onClick:()=>this.add("Edit","\u65b0\u5efa\u6587\u7ae0")},"\u65b0\u5efa")))),n.a.createElement(s["a"],null,n.a.createElement(l["a"],{dataSource:a,columns:e,rowKey:"id",pagination:o,onChange:this.handleTableChange})))}};T=b["b"]([Object(v["connect"])(e=>{var t=e.article;return{article:t}})],T);var I=g["a"].create({})(T),K=Object(v["connect"])(e=>{var t=e.article,a=e.category;return{article:t,category:a}})(I),D=(a("7Kak"),a("9yH6")),O=(a("DZo9"),a("8z0m")),F=(a("miYZ"),a("tsqr")),N=a("wtW0"),j=a("jHYr"),M=a.n(j),P=a("6/sb"),V=a.n(P),H=a("DlQD"),q=a.n(H),B=a("FIf5"),z=a.n(B),A=c["a"].TextArea;class R extends r["PureComponent"]{constructor(e){super(e),this.handleOk=(()=>{var e=this.state.editor;e.value(e.value()+"![](".concat(this.state.imageUrl,")")),this.setState({visible:!1,imageUrl:""})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.state={editor:null,init:!0,visible:!1,imageUrl:"",loading:!1}}componentWillReceiveProps(e){this.state.init&&(this.state.editor.value(e.value),this.setState({init:!1}))}componentDidMount(){M()(this.props);var e=this;this.setState({editor:new V.a({element:document.getElementById("content").childElementCount,autofocus:!0,autosave:!0,toolbar:["bold","italic","strikethrough","heading","heading-smaller","|","quote","code","quote","unordered-list","clean-block","link","table","horizontal-rule","preview","side-by-side","fullscreen","guide",{name:"image",action:function(t){e.setState({visible:!0})},className:"fa fa-picture-o",title:"Custom Button"}],previewRender(e){return q()(e,{renderer:new q.a.Renderer,gfm:!0,pedantic:!1,sanitize:!1,tables:!0,breaks:!0,smartLists:!0,smartypants:!0,highlight(e){return z.a.highlightAuto(e).value}})}})},()=>{this.state.editor.codemirror.on("change",()=>{this.props.markdownChange(this.state.editor.value())})})}render(){var e=this,t={name:"file",showUploadList:!1,action:"/api/v1/upload",headers:{authorization:"authorization-text"},accept:"image/*",beforeUpload(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||F["a"].error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||F["a"].error("Image must smaller than 2MB!"),t&&a},onChange(t){if(console.log(t),"uploading"!==t.file.status&&e.setState({loading:!0}),"done"===t.file.status){var a=t.file.response.data.path;e.setState({imageUrl:a,loading:!1}),F["a"].success("".concat(t.file.name," file uploaded successfully"))}else"error"===t.file.status&&F["a"].error("".concat(t.file.name," file upload failed."))}},a=n.a.createElement("div",null,n.a.createElement(o["a"],{type:this.state.loading?"loading":"plus"}),n.a.createElement("div",{className:"ant-upload-text"},"Upload"));return n.a.createElement("div",null,n.a.createElement(A,{rows:6,id:"content"}),n.a.createElement(h["a"],{title:"\u4e0a\u4f20\u56fe\u7247",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,confirmLoading:this.state.loading},n.a.createElement(O["a"],Object.assign({name:"logo"},t,{listType:"picture-card"}),this.state.imageUrl?n.a.createElement("img",{src:this.state.imageUrl,alt:"avatar",style:{width:"100%"}}):a)))}}var W=R,Y=g["a"].Item,U=y["a"].Option;c["a"].TextArea;class Q extends r["PureComponent"]{constructor(e){super(e),this.markdownChange=(e=>{var t=this.props.form.setFieldsValue;t({content:e})}),this.normFile=(e=>{return console.log(e),Array.isArray(e)?e:"done"===e.file.status&&1===e.file.response.code?e.file.response.data.path:e&&e.file.response&&e.file.response.data.path}),this.handleSubmit=(e=>{var t=this.props,a=t.form,r=t.dispatch,n=t.id;e.preventDefault(),a.validateFieldsAndScroll((e,t)=>{if(!e){var a=n?{id:n,data:t}:Object.assign({},t);r({type:"article/".concat(n?"edit":"add"),payload:Object.assign({},a),callback:()=>{r({type:"article/list",payload:{}})}})}})}),this.state={submitting:!1,detail:{title:"",keyword:"",isOriginal:!0,categoryId:"",content:"",status:"",img:""},loading:!1,editorValue:""}}componentDidMount(){var e=this.props,t=e.dispatch,a=e.id,r=e.category,n=e.form.setFieldsValue;r.allList.length||t({type:"category/all"}),a&&t({type:"article/detail",payload:a,callback:e=>{this.setState({detail:e}),n({content:e.content})}})}render(){var e=this.props,t=e.form,a=t.getFieldDecorator,r=t.setFieldsValue,l=e.category.allList,i=this.state.detail,m=this,d={name:"file",action:"/api/v1/upload",showUploadList:!1,headers:{authorization:"authorization-text"},accept:"image/*",beforeUpload(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/gif"===e.type;t||F["a"].error("You can only upload JPG/PNG/JIF file!");var a=e.size/1024/1024<2;return a||F["a"].error("Image must smaller than 2MB!"),t&&a},onChange(e){if(console.log(e),"uploading"!==e.file.status&&m.setState({loading:!0}),"done"===e.file.status){var t=e.file.response.data.path;r({img:t});var a=m.state.detail;a.img=t,m.setState({detail:a}),F["a"].success("".concat(e.file.name," file uploaded successfully"))}else"error"===e.file.status&&F["a"].error("".concat(e.file.name," file upload failed."))},onRemove(e){console.log(e)}},p=n.a.createElement("div",null,n.a.createElement(o["a"],{type:this.state.loading?"loading":"plus"}),n.a.createElement("div",{className:"ant-upload-text"},"Upload"));return n.a.createElement(s["a"],null,n.a.createElement(g["a"],Object.assign({},N["b"],{onSubmit:this.handleSubmit,style:{marginTop:8}}),n.a.createElement(g["a"].Item,{label:"\u6240\u5c5e\u5206\u7c7b"},a("categoryId",{initialValue:i?i.categoryId:void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b"}]})(n.a.createElement(y["a"],{placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b"},n.a.createElement(U,{value:""},"\u8bf7\u9009\u62e9\u6240\u5c5e\u5206\u7c7b"),l.map(e=>{return n.a.createElement(U,{value:e.id,key:e.id},e.name)})))),n.a.createElement(Y,{label:"\u6807\u9898"},a("title",{initialValue:i?i.title:"",rules:[{touched:!0,required:!0,message:"\u8bf7\u8f93\u5165\u6807\u9898"}]})(n.a.createElement(c["a"],{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",maxLength:30}))),n.a.createElement(Y,{label:"\u5173\u952e\u5b57"},a("keyword",{initialValue:i?i.keyword:"",rules:[{touched:!0,required:!0,message:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57"}]})(n.a.createElement(c["a"],{placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",maxLength:30}))),n.a.createElement(g["a"].Item,{label:"\u5c01\u9762\u56fe",extra:""},a("img",{initialValue:i?i.img:"",getValueFromEvent:this.normFile,rules:[{touched:!0,required:!0,message:"\u8bf7\u4e0a\u4f20\u56fe\u7247"}]})(n.a.createElement(O["a"],Object.assign({name:"logo"},d,{listType:"picture-card"}),this.state.detail.img?n.a.createElement("img",{src:this.state.detail.img,alt:"avatar",style:{width:"100%"}}):p))),n.a.createElement(g["a"].Item,{label:"\u662f\u5426\u539f\u521b"},a("isOriginal",{initialValue:i?i.isOriginal:void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u539f\u521b"}]})(n.a.createElement(D["a"].Group,null,n.a.createElement(D["a"],{value:"1"},"\u662f"),n.a.createElement(D["a"],{value:"0"},"\u5426")))),n.a.createElement(Y,{label:"\u5907\u6ce8"},a("remark",{initialValue:i?i.remark:void 0})(n.a.createElement(c["a"],{maxLength:100}))),n.a.createElement(Y,{wrapperCol:{xs:{span:22},sm:{span:22},md:{span:22}},label:"\u6587\u7ae0\u5185\u5bb9"},a("content",{initialValue:i?i.content:void 0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6587\u7ae0\u5185\u5bb9"}]})(n.a.createElement(W,{markdownChange:this.markdownChange}))),n.a.createElement(Y,Object.assign({},N["c"],{style:{marginTop:32}}),n.a.createElement(u["a"],{type:"primary",htmlType:"submit",loading:this.state.submitting},"\u63d0\u4ea4"))))}}var Z=g["a"].create({})(Q),J=Object(v["connect"])(e=>{var t=e.category;return{category:t}})(Z);a("sRa1");class G extends r["PureComponent"]{constructor(e){super(e),this.state={detail:null,contentMarkdown:""}}componentDidMount(){var e=this.props,t=e.dispatch,a=e.id;t({type:"article/detail",payload:a,callback:e=>{var t=V.a.prototype.markdown(e.content);this.setState({contentMarkdown:t})}})}render(){return n.a.createElement(s["a"],{title:"\u57fa\u672c\u4fe1\u606f"},n.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.contentMarkdown}}))}}var X=Object(v["connect"])()(G),$=a("8NCD"),ee=a("IE3s");class te extends ee["a"]{constructor(e){super(e),this.renderTab=((e,t)=>{var a=null;switch(e){case"List":a=n.a.createElement(K,{addTabHandler:this.addTabHandler});break;case"Edit":a=n.a.createElement(J,{id:t,removeTabHandler:this.remove});break;case"Detail":a=n.a.createElement(X,{id:t});break}return a});var t=[{title:"\u6587\u7ae0\u5217\u8868",content:this.renderTab("List"),key:"List",closable:!1}];this.state={activeKey:t[0].key,panes:t,tabListKey:[]}}render(){return n.a.createElement($["a"],{panes:this.state.panes,remove:this.remove,activeKey:this.state.activeKey,onChange:this.onChange})}}t["default"]=te},5:function(e,t){},"8DQV":function(e,t,a){e.exports={tableList:"tableList___2HnFt",tableListOperator:"tableListOperator___3zgE3",tableListForm:"tableListForm___I2h_m",submitButtons:"submitButtons___Qrm0z"}},"8NCD":function(e,t,a){"use strict";a("Znn+");var r=a("ZTPi"),n=a("q1tI"),l=a.n(n),s=r["a"].TabPane;class i extends n["PureComponent"]{constructor(e){super(e),this.onChange=(e=>{this.props.onChange(e)}),this.onEdit=((e,t)=>{this[t](e)}),this.remove=(e=>{this.props.remove(e)}),this.state={activeKey:"",tabListKey:[],panes:[]}}componentDidMount(){this.setState({panes:[...this.props.panes],activeKey:this.props.activeKey})}componentWillReceiveProps(e){this.state.panes.length!==e.panes.length&&this.setState({panes:[...e.panes]}),this.state.activeKey!==e.activeKey&&this.setState({activeKey:e.activeKey})}render(){var e=this.state,t=e.panes,a=e.activeKey;return l.a.createElement("div",null,l.a.createElement(r["a"],{hideAdd:!0,onChange:this.onChange,activeKey:a,type:"editable-card",onEdit:this.onEdit,className:"margin0"},t.map(e=>l.a.createElement(s,{tab:e.title,key:e.key,closable:e.closable},e.content))))}}t["a"]=i},E7aJ:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),n=a.n(r),l=(a("y8nQ"),a("Vl3Y")),s=(a("g9YV"),a("wCAj")),i=(a("+L6B"),a("2/Rp")),o=(a("IzEo"),a("bx4M")),c=(a("/zsF"),a("PArb")),m=(a("2qtc"),a("kLXV")),d=a("MuoO"),p=a("8DQV"),u=a.n(p);class h extends r["PureComponent"]{constructor(e){super(e),this.add=((e,t,a)=>{this.props.addTabHandler({title:t,key:e+a,content:e,closable:!0,id:a})}),this.deleteData=((e,t)=>{var a=this.props.dispatch;m["a"].confirm({title:"\u5220\u9664\u5206\u7c7b",content:"\u786e\u5b9a\u5220\u9664\u5206\u7c7b--".concat(t,"\u5417\uff1f"),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:()=>{a({type:"category/remove",payload:e,callback:()=>{a({type:"category/list"})}})}})}),this.handleTableChange=(e=>{var t=this.props.dispatch,a={offset:(e.current-1)*e.pageSize,limit:e.pageSize};t({type:"category/list",payload:a})}),this.state={expandForm:!1,columns:[{title:"\u5206\u7c7b\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u6392\u5e8f",dataIndex:"order",align:"center",key:"order"},{title:"\u72b6\u6001",dataIndex:"status",align:"center",key:"status",render:e=>n.a.createElement("span",null,e?"\u5f00\u542f":"\u5173\u95ed")},{title:"\u64cd\u4f5c",align:"center",render:(e,t)=>n.a.createElement("span",null,n.a.createElement("a",{onClick:()=>{this.add("Edit","\u7f16\u8f91-".concat(t.name),t.id)},href:"javascript:;"},"\u7f16\u8f91"),n.a.createElement(c["a"],{type:"vertical"}),n.a.createElement("a",{onClick:()=>{this.deleteData(t.id,t.name)},href:"javascript:;"},"\u5220\u9664"))}],dataSource:[]}}componentDidMount(){var e=this.props.dispatch;e({type:"category/list"})}render(){var e=this.state.columns,t=this.props.category,a=t.list,r=t.total,l={showSizeChanger:!0,pageSizeOptions:["10","20","30","50"],total:r};return n.a.createElement("div",null,n.a.createElement(o["a"],null,n.a.createElement("div",{className:u.a.tableList},n.a.createElement("div",{className:u.a.tableListOperator},n.a.createElement(i["a"],{icon:"plus",type:"primary",onClick:()=>this.add("Edit","\u65b0\u5efa\u5206\u7c7b")},"\u65b0\u5efa")))),n.a.createElement(o["a"],null,n.a.createElement(s["a"],{bordered:!0,dataSource:a,columns:e,rowKey:"id",pagination:l,onChange:this.handleTableChange})))}}var y=l["a"].create({})(h),g=Object(d["connect"])(e=>{var t=e.category;return{category:t}})(y),b=(a("7Kak"),a("9yH6")),v=(a("giR+"),a("fyUT")),E=(a("5NDa"),a("5rEg")),f=a("wtW0"),k=l["a"].Item;class x extends r["PureComponent"]{constructor(e){super(e),this.handleSubmit=(e=>{var t=this.props,a=t.form,r=t.dispatch,n=t.id;e.preventDefault(),a.validateFieldsAndScroll((e,t)=>{if(!e){var a=n?{id:n,data:t}:Object.assign({},t);r&&r({type:"category/".concat(n?"edit":"add"),payload:Object.assign({},a),callback:()=>{this.props.removeTabHandler("Edit".concat(n)),r({type:"category/list"})}})}})}),this.state={submitting:!1,detail:{name:"",order:0,status:!0}}}componentWillMount(){var e=this.props,t=e.dispatch,a=e.id;a&&t({type:"category/detail",payload:a,callback:e=>{this.setState({detail:e})}})}render(){var e=this.props.form.getFieldDecorator,t=this.state.detail;return n.a.createElement(o["a"],null,n.a.createElement(l["a"],Object.assign({},f["a"],{onSubmit:this.handleSubmit,style:{marginTop:8}}),n.a.createElement(k,{label:"\u5206\u7c7b\u540d\u79f0"},e("name",{initialValue:t?t.name:"",rules:[{touched:!0,required:!0,message:"\u8bf7\u8f93\u5165\u540d\u79f0"}]})(n.a.createElement(E["a"],{placeholder:"\u8bf7\u8f93\u5165\u540d\u79f0",maxLength:100}))),n.a.createElement(k,{label:"\u6392\u5e8f"},e("order",{initialValue:t?t.order:void 0,rules:[{type:"number",touched:!0,required:!0,message:"\u8bf7\u8f93\u5165\u6392\u5e8f"}]})(n.a.createElement(v["a"],{placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f",min:1,max:100,style:{width:"200px"}}))),n.a.createElement(l["a"].Item,{label:"\u72b6\u6001"},e("status",{initialValue:!t||t.status,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u72b6\u6001"}]})(n.a.createElement(b["a"].Group,null,n.a.createElement(b["a"],{value:!0},"\u5f00\u542f"),n.a.createElement(b["a"],{value:!1},"\u5173\u95ed")))),n.a.createElement(k,Object.assign({},f["c"],{style:{marginTop:32}}),n.a.createElement(i["a"],{type:"primary",htmlType:"submit",loading:this.state.submitting},"\u63d0\u4ea4"))))}}var L=l["a"].create({})(x),w=Object(d["connect"])(()=>({}))(L),C=a("8NCD"),S=a("IE3s");class _ extends S["a"]{constructor(e){super(e),this.renderTab=((e,t)=>{var a=null;switch(e){case"List":a=n.a.createElement(g,{addTabHandler:this.addTabHandler});break;case"Edit":a=n.a.createElement(w,{id:t,removeTabHandler:this.remove});break}return a});var t=[{title:"\u5206\u7c7b\u5217\u8868",content:this.renderTab("List"),key:"List",closable:!1}];this.state={activeKey:t[0].key,panes:t,tabListKey:[]}}render(){return n.a.createElement(C["a"],{panes:this.state.panes,remove:this.remove,activeKey:this.state.activeKey,onChange:this.onChange})}}t["default"]=_},IE3s:function(e,t,a){"use strict";var r=a("q1tI");class n extends r["PureComponent"]{constructor(){super(...arguments),this.onChange=(e=>{this.setState({activeKey:e})}),this.addTabHandler=(e=>{var t=this.state,a=t.panes,r=t.tabListKey;r.includes(e.key)?this.setState({activeKey:e.key}):(a.push({title:e.title,content:this.renderTab(e.content,e.id),key:e.key,closable:e.closable}),this.setState({panes:[...a],activeKey:e.key,tabListKey:[...r,e.key]},()=>{this.state.panes}))}),this.onEdit=((e,t)=>{this[t](e)}),this.remove=(e=>{var t=this.state.activeKey,a=0;this.state.panes.forEach((t,r)=>{t.key===e&&(a=r-1)});var r=this.state.panes.filter(t=>t.key!==e),n=this.state.tabListKey.filter(t=>t!==e);t===e&&(t=a>=0?r[a].key:r[0].key),this.setState({panes:[...r],activeKey:t,tabListKey:n})})}}t["a"]=n},NYiy:function(e,t,a){e.exports={tableList:"tableList___aml4E",tableListOperator:"tableListOperator___3hb6B",tableListForm:"tableListForm___1wCnL",submitButtons:"submitButtons___1ejsI"}},PPeM:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return l});var r=a("q1tI"),n=a.n(r);class l extends r["Component"]{render(){return n.a.createElement("div",null,"hello world")}}},WEnL:function(e,t,a){"use strict";a.r(t);a("Ksrn");var r=a("MR/8"),n=(a("Pwec"),a("CtXQ")),l=(a("qVdP"),a("jsC+")),s=(a("lUTK"),a("BvKs")),i=(a("Znn+"),a("ZTPi")),o=(a("B9cy"),a("Ol7k")),c=a("q1tI"),m=a.n(c),d=a("MuoO"),p=a("ZFw/"),u=a.n(p),h=a("E6Dt"),y=a("TSYQ"),g=a.n(y),b=a("VwNl"),v=a("3FtW"),E=a("3a4m"),f=a.n(E),k=a("HZnN"),x=a("bALw"),L=a.n(x),w=a("FcfS"),C=Object(c["createContext"])({}),S=(a("T2oS"),a("W9HT")),_=()=>m.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},m.a.createElement(S["a"],{size:"large"})),T=_,I=a("mR0u"),K=a.n(I),D=m.a.lazy(()=>Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"eRED"))),O=o["a"].Sider,F="https://mirror-gold-cdn.xitu.io/168e092e37071588c3d?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1",N="https://mirror-gold-cdn.xitu.io/168e092e37071588c3d?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1";class j extends c["Component"]{render(){return m.a.createElement(O,{style:{minHeight:"100vh"},trigger:null,collapsible:!0,collapsed:this.props.collapsed},m.a.createElement("div",{className:K.a.logo_wrap},m.a.createElement("img",{alt:"logo",className:this.props.collapsed?K.a.logoShrink:K.a.logo,src:this.props.collapsed?N:F})),m.a.createElement(c["Suspense"],{fallback:m.a.createElement(T,null)},m.a.createElement(D,Object.assign({},this.props))))}}var M=j,P=(a("sPJy"),a("bE4q")),V=a("c+yx"),H=a("e0YX"),q=a.n(H),B=(e,t)=>{var a=e[t];return a||{}};class z extends c["Component"]{constructor(e){super(e),this.getBreadcrumbDom=(()=>{var e=this.conversionBreadcrumbList();this.setState({breadcrumb:e})}),this.conversionBreadcrumbList=(()=>{var e=this.props,t=e.location,a=e.breadcrumbNameMap;return t&&t.pathname?this.conversionFromLocation(t,a):null}),this.conversionFromLocation=((e,t)=>{var a=Object(V["c"])(e.pathname),r=a.map(e=>{var a=B(t,e);return a.inherited?null:a.name&&!a.hideInBreadcrumb?m.a.createElement(P["a"].Item,{key:e},a.name):null});return r.unshift(m.a.createElement(P["a"].Item,{key:"home"},"\u9996\u9875")),m.a.createElement(P["a"],{className:q.a.breadcrumb},r)}),this.state={breadcrumb:null,pathname:""}}componentDidMount(){var e=this.props.location;this.getBreadcrumbDom(),this.setState({pathname:e.pathname})}componentDidUpdate(e){var t=this.props.location;if(t&&e.location){e.location.pathname;this.state.pathname!==t.pathname&&(this.getBreadcrumbDom(),this.setState({pathname:t.pathname}))}}render(){var e=this.state.breadcrumb;return e}}var A=z,R=a("/Ujr"),W=a.n(R);class Y extends c["PureComponent"]{constructor(){super(...arguments),this.logout=(()=>{window.localStorage.removeItem("user"),window.location.href="/"})}render(){var e=window.localStorage.getItem("user"),t="";e&&(t=JSON.parse(e).username);var a=m.a.createElement(s["a"],null,m.a.createElement(s["a"].Item,{key:"1",onClick:this.logout},m.a.createElement(n["a"],{type:"logout"}),"\u9000\u51fa\u767b\u9646"));return m.a.createElement("div",{className:W.a.wrap},m.a.createElement(l["a"],{overlay:a},m.a.createElement("div",{className:W.a.tab_operate},t,m.a.createElement(n["a"],{type:"down",className:W.a.icon}))))}}var U=Y,Q=a("vd9Y"),Z=a.n(Q),J=o["a"].Header;class G extends c["Component"]{render(){var e=this.props,t=e.collapsed,a=e.toggle,r=e.breadcrumbNameMap;return m.a.createElement(J,{className:Z.a.header,style:{background:"#fff",padding:0}},m.a.createElement(n["a"],{className:Z.a.trigger,type:t?"menu-unfold":"menu-fold",onClick:a}),m.a.createElement(A,{breadcrumbNameMap:r,location:this.props.location}),m.a.createElement(U,null))}}var X=G,$=a("whYx"),ee=a("ZV3i"),te=a.n(ee),ae=o["a"].Content,re=o["a"].Footer,ne=i["a"].TabPane,le={"screen-xs":{maxWidth:575},"screen-sm":{minWidth:576,maxWidth:767},"screen-md":{minWidth:768,maxWidth:991},"screen-lg":{minWidth:992,maxWidth:1199},"screen-xl":{minWidth:1200,maxWidth:1599},"screen-xxl":{minWidth:1600}};class se extends c["Component"]{constructor(e){super(e),this.updateTree=(e=>{var t=e,a=[],r=e=>{e.forEach(e=>{e.level||a.push({tab:e.name,key:e.path,locale:e.locale,closable:!0,content:e.component}),e.routes&&e.routes.length>0&&r(e.routes)})};return r(t),a}),this.toggle=(()=>{this.setState({collapsed:!this.state.collapsed})}),this.onHandlePage=(e=>{var t=this.props.menuData,a=e.key,r=this.updateTreeList(t),n=this.state,l=n.tabListKey,s=n.tabList;f.a.push(a),this.setState({activeKey:a}),r.map(e=>{e.key===a&&(0===s.length?(e.closable=!1,this.setState({tabList:[...s,e]})):l.includes(e.key)||this.setState({tabList:[...s,e],tabListKey:[...l,e.key]}))})}),this.updateTreeList=(e=>{var t=e,a=[],r=e=>{e.forEach(e=>{e.level||a.push({tab:e.name,key:e.path,locale:e.locale,closable:!0,content:e.component}),e.children&&e.children.length>0&&r(e.children)})};return r(t),a}),this.onChange=(e=>{this.setState({activeKey:e}),f.a.push(e)}),this.onEdit=((e,t)=>{this.remove(e)}),this.remove=(e=>{var t=this.state.activeKey,a=-1;this.state.tabList.forEach((t,r)=>{t.key===e&&(a=r-1)});var r=[],n=[];this.state.tabList.map(t=>{t.key!==e&&(r.push(t),n.push(t.key))}),a>=0&&t===e&&(t=r[a].key),f.a.push(t),this.setState({tabList:r,activeKey:t,tabListKey:n})}),this.onClickHover=(e=>{var t=e.key,a=this.state,r=a.activeKey,n=a.tabList,l=a.tabListKey,s=a.routeKey;"1"===t?(n=n.filter(e=>e.key!==r||e.key===s),l=l.filter(e=>e!==r||e===s),this.setState({activeKey:s,tabList:n,tabListKey:l})):"2"===t?(n=n.filter(e=>e.key===r||e.key===s),l=l.filter(e=>e===r||e===s),this.setState({activeKey:r,tabList:n,tabListKey:l})):"3"===t&&(n=n.filter(e=>e.key===s),l=l.filter(e=>e===s),this.setState({activeKey:s,tabList:n,tabListKey:l}))}),this.getRouterAuthority=((e,t)=>{var a=["noAuthority"],r=(e,t)=>{return t.map(t=>{return t.path&&L()(t.path).test(e)?a=t.authority:t.routes&&(a=r(e,t.routes)),t}),a};return r(e,t)});var t=e.route.routes,a=$["DefaultIndex"],r="\u9996\u9875",n=this.updateTree(t),l=[];n.map(e=>{e.key===a&&0===l.length&&(e.closable=!1,e.tab=r,l.push(e))}),this.state={collapsed:!1,routeKey:a,activeKey:a,tabList:l,tabListKey:[a]}}componentWillMount(){var e=window.localStorage.getItem("user");e||f.a.push("/user")}componentDidMount(){this.props.history.push({pathname:$["DefaultIndex"]});var e=this.props,t=e.dispatch,a=e.route,r=a.routes,n=a.authority;t&&t({type:"menu/getMenuData",payload:{routes:r,authority:n}});var l=this.props;l.location,l.breadcrumbNameMap}getContext(){var e=this.props,t=e.location,a=e.breadcrumbNameMap;return{location:t,breadcrumbNameMap:a}}render(){var e=this.props,t=e.menuData,a=e.location.pathname,c=e.route.routes,d=this.state.activeKey,p=m.a.createElement(s["a"],{onClick:this.onClickHover},m.a.createElement(s["a"].Item,{key:"1"},"\u5173\u95ed\u5f53\u524d\u6807\u7b7e\u9875"),m.a.createElement(s["a"].Item,{key:"2"},"\u5173\u95ed\u5176\u4ed6\u6807\u7b7e\u9875"),m.a.createElement(s["a"].Item,{key:"3"},"\u5173\u95ed\u5168\u90e8\u6807\u7b7e\u9875")),y=m.a.createElement(l["a"],{overlay:p},m.a.createElement("a",{className:te.a.tab_operate,href:"#"},"\u6807\u7b7e\u64cd\u4f5c",m.a.createElement(n["a"],{type:"down",className:te.a.icon}))),E=this.getRouterAuthority(a,c),f=m.a.createElement(o["a"],{style:{height:"100%"}},m.a.createElement(M,{collapsed:this.state.collapsed,location:location,menuData:t,onHandlePage:this.onHandlePage}),m.a.createElement(o["a"],null,m.a.createElement(X,{collapsed:this.state.collapsed,toggle:this.toggle,breadcrumbNameMap:this.props.breadcrumbNameMap,location:location}),m.a.createElement(ae,{style:{background:"#eee",minHeight:280}},m.a.createElement(i["a"],{activeKey:d,onChange:this.onChange,tabBarExtraContent:y,tabBarStyle:{background:"#fff"},tabPosition:"top",animated:!0,tabBarGutter:-1,hideAdd:!0,type:"editable-card",onEdit:this.onEdit,className:"margin0"},this.state.tabList.map(e=>m.a.createElement(ne,{style:{padding:"10px"},tab:e.tab,key:e.key,closable:e.closable},m.a.createElement(k["a"],{authority:E,noMatch:m.a.createElement("div",null,"403")},m.a.createElement(b["a"],{history:this.props.history},m.a.createElement(v["a"],{key:e.key,path:e.path,component:e.content}))))))),m.a.createElement(re,{style:{textAlign:"center"}},"\u535a\u5ba2\u7ba1\u7406\u5e73\u53f0")));return m.a.createElement(u.a,{title:"Dragon\u9a7f\u7ad9"},m.a.createElement(r["b"],{locale:w["a"]},m.a.createElement(h["ContainerQuery"],{query:le},e=>m.a.createElement(C.Provider,{value:this.getContext},m.a.createElement("div",{className:g()(e)},f)))))}}t["default"]=Object(d["connect"])(e=>{var t=e.global,a=e.menu;return{collapsed:t,menuData:a.menuData,breadcrumbNameMap:a.breadcrumbNameMap}})(se)},ZV3i:function(e,t,a){e.exports={"ant-layout-sider":"ant-layout-sider___2NMv6",logo:"logo___3JfK2",normal:"normal___3OYEf",title:"title___1Mjs2",tab_operate:"tab_operate___mQBPR",icon:"icon___38Din"}},e0YX:function(e,t,a){e.exports={breadcrumb:"breadcrumb___PodZh"}},mR0u:function(e,t,a){e.exports={logo_wrap:"logo_wrap___6VYPQ",logo:"logo___11PiT",logoShrink:"logoShrink___3qbV3"}},vd9Y:function(e,t,a){e.exports={trigger:"trigger___3mPwH"}},whYx:function(e,t,a){"use strict";t.DefaultIndex="/article/list"},wtW0:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return l});var r={labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:12},md:{span:10}}},n={labelCol:{xs:{span:2},sm:{span:2}},wrapperCol:{xs:{span:6},sm:{span:6},md:{span:6}}},l={wrapperCol:{xs:{span:24,offset:0},sm:{span:10,offset:7}}}}}]);